<!DOCTYPE html>
<html>
<head>
   <meta charset="EUC-KR">
   <title>Watch Out!</title>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
   <script src="./static/js/firebase.js" type="text/javascript"></script>
    <script src="./static/js/list.js" type="text/javascript"></script>
   <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
   <link href="./static/css/bootstrap.css" rel="stylesheet" crossorigin="anonymous">

   <style>
    .box{
      width:950px;
      height:400px;
      background-color: white;
      text-align: center;
      margin:auto;
      padding-top:30px;
    }
    .list{
      width:900px;
      height:100px;
      background-color: #333489;
      border-radius: 1rem;
      margin:auto;
    }
    .right{
      float:right;
      height:70px;
      width: 75px;
      background-color: #b0bfff;
      border-radius: 0.7rem;
      border-style: none;
      font-weight:bold;
      margin-top:15px;
      margin-right:15px;
      font-size:20px;
    }

    .box2{
      width:1080px;
      height:400px;
      margin:auto;
      text-align:center;
    }
    .round {
      width: 200px;
      height: 200px; 
      border-radius: 70%;
      overflow: hidden;
      margin:20px;
    }
    .img {
      width: 150px;
    }
    .small {
      text-align: center;
      width:300px;
      height:400px;
      float:left;
      margin-right:30px;
      margin-left:30px;
    }

   </style>
   <link href="./static/css/carousel.css" rel="stylesheet">
</head>
<body style="background: #b0bfff;">
   <script type = "text/javascript">
    getHistoryObjectForHistory();
    function goSimulation(num){
      location.href = '/simulation?num='+num;
    }
    function goAssess(num){
      location.href = '/history/assess?num='+num;
    }
    function win_open(url,name) {
      var openWin = window.open(url,name,"fullscreen=yes");
    };
   </script>
   <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top">
            <div class="container-fluid">
                <a style="margin-left:5px; margin-right:20px;" herf="/menupage">
                    <img src= "./static/image/logo.png" height="60px" width="90px">
                </a>
              <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0" style ="height:45px; font-size: 20px; font-weight: bold; margin-top:15px; padding-left:10px; padding-right:10px;">
                  <li class="nav-item" style="padding-left:10px; font-size: 17px;">
                    <a class="nav-link active"  href="/teamInfo">Team</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link active" href="/appInfo">App</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link active" href="/webInfo">Web</a>
                  </li>
                  <li class="nav-item" style="padding-left:400px;font-size: 17px;">
                    <a class="nav-link active"  href="/watchnow">WatchNow</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link" style="color: #5A78AF;" href="/history">History</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link active" href="/analysis">Analysis</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link active" href="/favorites">Favorite</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" style="margin-left:10px;">ㅣ</a>
                  </li>
                  <li class="nav-item" style="padding-left:10px;font-size: 17px;">
                    <a class="nav-link active" href="/settings">Settings</a>
                  </li>
                </ul>
              </div>
            </div>
        </nav>
   </header>
    
  <main>
    <div style="height:60px;"></div>
    <div class="box">
      <div class="list" style=" margin-bottom:20px;" id="historyList0">
        <button class="right" onclick="win_open('/historyinfo','historyinfo0');">더보기</button>
        <button class="right" onclick="goAssess(0)">평가 하기</button>
      </div>
      <div class="list" style=" margin-bottom:20px;" id="historyList1">
        <button class="right" onclick="win_open('/historyinfo','historyinfo1');">더보기</button>
        <button class="right" onclick="goAssess(1)">평가 하기</button>
      </div>
      <div class="list" style=" margin-bottom:20px;" id="historyList2">
        <button class="right" onclick="win_open('/historyinfo','historyinfo2');">더보기</button>
        <button class="right" onclick="goAssess(2)">평가 하기</button>
      </div>
    </div>

    <div style="height:50px"></div>
    <div class="box2">
      <div class="small">
        <button class="round" id="gosimul0" onclick="goSimulation(0);">
            <img class="img" src="./static/image/first.png">
        </button>
        <p id ="date1"></p>
        <p id ="des1"></p>
      </div>

      <div class="small">
        <button class="round" id="gosimul1" onclick="goSimulation(1);">
            <img class="img" src="./static/image/first.png">
        </button>
        <p id ="date2"></p>
        <p id ="des2"></p>
      </div>
      <div class="small">
        <button class="round" id="gosimul2" onclick="goSimulation(2);">
            <img class="img" src="./static/image/first.png">
        </button>
        <p id ="date3"></p>
        <p id ="des3"></p>
      </div>
    </div>
    <a id = "h0" style="visibility:hidden;">empty</a>
    <a id = "h1" style="visibility:hidden;">empty</a>
    <a id = "h2" style="visibility:hidden;">empty</a>
  </main>
  <script>
    function storeForHistoryInfo(i,History){//startname,endname,routescore,totalDistance,expectedTime,realTime,위험요소
      var elapsedTime = History.arrivedTime - History.departureTime; //실제소요시간(ms)
      var timeData = elapsedTime/1000 - History.expectedTime ; //예상소요시간과차이(s)

      var info = History.dpName+","+History.arrivedName+","+History.score+","+History.totalDistance+","+History.expectedTime+","
      +timeData+","+History.hasDangerA+","+History.hasDangerB+","+History.hasCrossWalk;

      document.getElementById("h"+i).innerHTML = info;
    }
  </script>
</body>
</html>