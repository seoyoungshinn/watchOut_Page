
<!doctype html>
<html>
  <head>
    <meta charset="EUC-KR">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
      <script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx79d570bd9bf74163a98c47d00783f59f"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
      <script src="./static/tmap.js" type="text/javascript"></script>
    <script src="./static/firebase.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <title>Watch Out!</title>
<!-- 
<link href="./static/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous"> -->

<link href="./static/css/bootstrap.css" rel="stylesheet" crossorigin="anonymous">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }
      
    </style>
    <link href="./static/css/carousel.css" rel="stylesheet">
    
</head>
<body onload="showPie()">
    <script type = "text/javascript">
		mqttConnection();
    showFavoritesFromFirebase();
    getHistoryFromFirebase();
	</script>
    	<header>
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
                <div class="container-fluid">
                  <a class="navbar-brand">Watch Out!</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                      <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/bootmap">Home</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link active" href="/history">History</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="/feedback">Feedback</a>
                      </li>
                    </ul>
                    <a><div id = "state">아직</div></a>
                  </div>
                </div>
            </nav>
        </header>
    <main>
    <div class="container py-4">
            <header class="pb-3 mb-4 border-bottom">
            <a class="d-flex align-items-center text-dark text-decoration-none">
                <span class="display-5 fw-bold" style="margin: auto;">History & Favorites</span>
            </a>
            </header>
        
        <div class="container py-4" style="height: 1000px;">

            <div class="row align-items-md-stretch" style="float:right; width: 600px;">
                <div class="p-5 mb-4 bg-light rounded-3" style="height:700px;">
                    <div class="container-fluid" style="margin-top:1.0rem; margin-bottom:1.5rem;">
                        <h1 class="display-5 fw-bold">데이터수치화 그래프</h1>
                        <!-- 데이터수치화시작 -->
                        <p class="col-md-8 fs-4" style = "width:400px;">경로요소/예상 발걸음 수 차이</p>
                        <canvas id="show-chart" width="400px" height="300px" ></canvas>
                        
                        <button class="btn btn-outline-secondary" type="button" onclick="showPie()">경로 요소 보기</button>
                        <button class="btn btn-outline-secondary" type="button" onclick="showSticks()">소요시간차이보기</button>

                        </p>
                        <script>
                        function showPie() {
                          new Chart(document.getElementById("show-chart"), {
                            type: 'bar',
                            data: {
                              labels: ["Africa", "Asia", "Europe", "Latin America", "North America"],
                              datasets: [
                                {
                                label: "Population (millions)",
                                backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
                                data: [2478,5267,734,784,433]
                                }
                              ]
                            },
                            options: {
                              legend: { display: false },
                              title: {
                                display: true,
                                text: 'Predicted world population (millions) in 2050'
                              }
                            }
                          });
                        }
                        function showSticks() {
                          new Chart(document.getElementById("show-chart"), {
                              type: 'doughnut',
                              data: {
                                labels: ["Africa", "Asia", "Europe", "Latin America", "North America"],
                                datasets: [
                                    {
                                      label: "Population (millions)",
                                      backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
                                      data: [2478,5267,734,784,433]
                                    }
                                ]
                              },
                              options: {
                                title: {
                                  display: true,
                                  text: 'Predicted world population (millions) in 2050'
                                }
                              }
                          });
                        }

                        </script>
                        <!-- 데이터수치화끝 -->
                      </div>
                </div>
                <div class="p-5 mb-4 bg-light rounded-3" style="height:210px;">
                    <div class="container-fluid margin-top:1.5rem; margin-bottom:1.5rem;">
                      <!-- 건강정보시작 -->
                      <h2>일주일간 사용자의 건강 정보</h2>
                       <p>평균 발걸음 수 : <span style="color: #dc3545;">1811걸음</span></p>
                       <p>평균 심박수 :<span style="color: #dc3545;">88</span></p> 
                        <!-- 건강정보끝 -->
                    </div>
                </div>
            </div>

            <div class="row align-items-md-stretch" style="float: left; width: 500px;">
                <div class="col-md-6" style="width: 100%; height: 400px;">
                    <div class="h-100 p-5 rounded-3" style="background-color:#A9A9A9;">
                        <h2>최근 방문 기록</h2>
                        <!--최근방문기록시작 -->
                        <!-- <div>도착 시간&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;출발지 -> 도착지 걸음 심박수</div> -->
                        <div style="padding: 10px; background-color: blanchedalmond; margin-bottom: 10px;">
                          <div><span style="display:inline-block; width:90px;">2022-06-26</span><span>17:32</span><span style="padding: 5px; color:darkslategrey;">S : 낙산길 20</span></div>
                          <div><span style="display:inline-block; color:#dc3545; width:90px;">0300 88</span><span>18:52</span><span style="color:darkslategrey;padding: 5px;">E : 한성대</span></div>
>>>>>>> 6999e17d51f1b5e86cbdfaef4876e2f31379d32a
                        </div>
                        
                        <!--최근방문기록끝 -->
                      
                    </div>
                </div>
                <div class="col-md-6" style="width: 100%; height: 500px; margin-top: 20px;">
                    <div class="h-100 p-5 bg-light border rounded-3">
                        <h2>즐겨찾기 목록</h2>
                        <div id = "favoritesList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="pt-3 mt-4 text-muted border-top">
            <p class="float-end"><a href="#">Back to top</a></p>
        </footer>
    </div>
    </main>
    <script src="./static/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
